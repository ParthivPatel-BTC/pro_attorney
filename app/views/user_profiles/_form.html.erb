<% if @user_profile.user_id == current_user.id %>
<%= form_for @user_profile, role: "form", html: { :multipart => true } do |f| %>
  <div class = "row">
    <div class = "col-md-1"></div>
    <div class = "col-md-8">
      <div class = "box box-primary"><!--start box 2 -->
        <div class = "box-header with-border">
          <h3 class = "box-title custom-header">Basic Info</h3><br>
        </div>
        <div class = "box-body">
          
            <div class = "form-group">
              <%= f.label :first_name%><font class="small" color="#9F6000" >(can't be blank)*</font>
              <%= f.text_field :first_name, class: "form-control ", id: "exampleInputEmail1", placeholder: "Enter first name"%>
            </div>

            <div class = "form-group">
              <%= f.label :last_name %><font class="small" color="#9F6000" >(can't be blank)*</font>  
              <%= f.text_field :last_name, class: "form-control", id: "exampleInputEmail1", placeholder: "Enter last name"%>
            </div>

            <div class = "form-group">
              <%= f.label :gender %>
              <%= f.radio_button :gender, "Male", checked: (@user_profile.gender == "Male" || @user_profile.gender == nil) %>&nbsp;male&nbsp;<i class="fa fa-male"></i>
              <%= f.radio_button :gender,"Female", checked: (@user_profile.gender == "Female")%>Female &nbsp;<i class="fa fa-female"></i><br>
            </div>

            <div class = "form-group">
              <%= f.label :contact %>&nbsp;<i class="fa fa-mobile"></i>
              <%= f.text_field :mobile_no, class: "form-control", id: "exampleInputEmail1", placeholder: "Enter contact number" ,onkeypress:"return isNumber(event)"%>
            </div>

             <div class = "form-group">
              <%= f.label :address %>&nbsp;<i class="fa fa-home"></i><font class="small" color="#9F6000" >(can't be blank)*</font>  
              <%= f.text_area :address, class: "form-control", id: "exampleInputEmail1", placeholder: "Enter address" %>
            </div>

            <div class = "form-group">  
              <%= f.label :city %><font class="small" color="#9F6000" >(can't be blank)*</font>
              <%= f.text_field :city, class: "form-control", id: "exampleInputEmail1", placeholder: "Enter city" %>
            </div>

            <div class = "form-group">
              <%= f.label :zipcode %>
              <%= f.text_field :pincode, class: "form-control", id: "exampleInputEmail1", placeholder: "Enter zipcode" %>
            </div>

            <div class = "form-group" >
              <%= f.label "Profile Picture" %>
                <div class = "form-group" >
                  <div class="upload-preview" id="target">
                <% if @user_profile.avatar.exists? %>
                <%= image_tag(@user_profile.avatar.url, height: "85px", width: "85px",id: "output") %><br><br>
                <% else %> 
                <%= image_tag('default.jpg', height: "85px", width: "85px",id: "output") %><br><br>
                <% end %> 
                </div>
                <%= f.file_field :avatar,onchange: "loadFile(event)",id: "pictureInput" %><p class="help-block">File should be less than 2Mb.</p>
        
                  <div class="upload-preview">
                    <img />
                  </div>
              
            <% if current_user.is_advocate? %>
            <div class = "form-group">
              <%= f.label :experience %><font class="small" color="#9F6000" >(can't be blank)*</font>
              <%= f.text_area :experience, class: "form-control", id: "exampleInputEmail1", placeholder: "Enter experience" %>
            </div>
            <% end %>
          <%=f.submit submit_value(@user_profile),class: "btn btn-primary" %>
        </div>
      </div><!--end box 2 -->
    </div>
  <% end %>
</div>
<% else %>
<h3>you are not allowed to view this page</h3>
<% end %>
<script type="text/javascript">
 var loadFile = function(event) {
    var reader = new FileReader();
    reader.onload = function(){
      var output = document.getElementById('output');
      output.src = reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  };




function isNumber(evt) {
    evt = (evt) ? evt : window.event;
    var charCode = (evt.which) ? evt.which : evt.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        return false;
    }
    return true;
}



</script>